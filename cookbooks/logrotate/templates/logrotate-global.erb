#
# Generated by Chef for <%= node['fqdn'] %>
# Do NOT modify this file by hand, changes will be overwritten.
#
<% unless nil_or_empty?(@options) %>

# Options
<% @options.each do |opt| -%>
<%= opt %>
<% end -%>
<% end -%>
<% unless nil_or_empty?(@parameters) %>

# Parameters
<% @parameters.each do |p, v| -%>
<%= p %><% unless nil_or_empty?(v) %> <%= v %><% end -%>
<% end -%>
<% end -%>
<% unless nil_or_empty?(@scripts) %>

# Scripts
<% @scripts.each do | scripttype, body | -%>
<%= scripttype %>
<%= body %>
endscript
<% end -%>
<% end -%>

# Includes
include /etc/logrotate.d
<% unless nil_or_empty?(@includes) %>

<% @includes.each do |inc| -%>
include <%= inc %>
<% end -%>
<% end -%>
<% unless nil_or_empty?(@paths) %>

# Paths
<% @paths.each do |path, config| -%>
<%= path %> {
    <% unless nil_or_empty?(config['options']) %>
    # Options
    <% config['options'].each do |opt|-%>
    <%= opt %>
    <% end -%>
    <% end -%>
    <% unless nil_or_empty?(config['parameters']) %>

    # Parameters
    <% config['parameters'].each do |k, v| -%>
    <%= k %> <%= v %>
    <% end -%>
    <% end -%>
    <% unless nil_or_empty?(config['scripts']) %>

    # Scripts
    <% config['scripts'].each do |type, body| -%>
    <%= type %>
    <%= body %>
    endscript
    <% end -%>
    <% end -%>
}

<% end -%>
<% end -%>
